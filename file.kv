
<HelloScreen>:
    # Hello Screen is the screen which is displayed on app startup.

    Image:
        # It has background image embedded with App logo and author names.
        # Background image covers whole window of GUI.

        source:'logo.png'
        size_hint_x: 1
        pos_hint: {"center_x": 0.5, "center_y": 0.5}

    OneLineListItem:
        text: "Single-line item"
        on_release: app.continue_to_app()
        size_hint_x: 0.3
        pos_hint: {"center_x": 0.5, "center_y": 0.5}

    MDRaisedButton:
        # Button floating above background image.

        text: "Continue to APP"
        font_size: 20
        pos_hint: {"center_x": 0.5, "center_y": 0.15}

        # On clicking on this button, continue_to_app() function from main will be executed.
        on_press: app.continue_to_app()



<LoginPage>:

    # Login Page is the screen which is displayed when use clicks on continue to app button in HelloScreen.

    MDCard:
        # This card is a white widget that remains in background.
        # All other widgets are placed above this card.

        size_hint: 0.8, 0.75
        pos_hint: {"center_x": 0.5, "center_y": 0.45}
        elevation: 5
        padding: 25
        spacing: 25
        orientation: 'vertical'
        radius: [20,20,20,20]
        md_bg_color: get_color_from_hex("#f4dedc")

    MDLabel:
        # This label prints 'Welcome' on top of screen.

        id: welcome_label
        text: "Welcome"
        font_size: 35
        pos_hint: {"center_x": 0.5, "center_y": 0.75}
        halign: 'center'
        size_hint_y: None
        padding_y: 15

    MDTextField:
        # Text Field to enter username for logging in.
        # Positioned below welcome label.

        id: user
        mode: "rectangle"
        hint_text: "Username"
        icon_right: "account"
        size_hint_x: 0.6
        width: 200
        font_size: 18
        pos_hint: {"center_x": 0.5, "center_y": 0.65}

    MDTextField:
        # Text Field to enter passsword for logging in.
        # Positioned below Username text field.

        id: password
        mode: "rectangle"
        hint_text: "Password"
        icon_right: "form-textbox-password"
        size_hint_x: 0.6
        width: 200
        font_size: 18
        pos_hint: {"center_x": 0.5, "center_y": 0.55}
        password: True

    MDFillRoundFlatIconButton:
        # Button positioned below username and password text fields.

        text: "             Login"
        border: 20,20,20,20
        font_size: 25
        halign: 'center'
        pos_hint: {"center_x": 0.5, "center_y": 0.40}
        size_hint_x: 0.6
        elevation:25
        icon: "login-variant"

        # On clicking on this button, login() function from main will be executed.
        # Text entered in Username and Password text fields are passed as arguments.
        on_press: app.login(root.ids.user.text,root.ids.password.text)


    MDLabel:
        # This Label asks user if he is new to app.
        text: "New User? Signup!"
        font_size: 20
        pos_hint: {"center_x": 0.5, "center_y": 0.3}
        halign: 'center'
        size_hint_y: None
        padding_y: 15


    MDFillRoundFlatIconButton:
        # Button positioned below at bottom of the screen.

        text: "             Signup"
        font_size: 25
        pos_hint: {"center_x": 0.5, "center_y": 0.2}

        # On clicking on this button, login() function from main will be executed.
        on_press: app.signup()
        size_hint_x: 0.6
        elevation:25
        icon: "account-plus"

    # Collecion of widgets to create a content navigation drawer.
    Widget:
        size_hint_y: None
        height: 10
    MDNavigationLayout:
        # On clicking top left button, a screen comes out that can be called as Drawer.
        # However, Drawer will not be there in Login screen.
        ScreenManager:

            MDScreen:

                MDToolbar:
                    title: "User Login"
                    elevation: 10
                    pos_hint: {"top": 1}

                    # There will be no items in Login page content drawer.
                    # There wil be no button on top left.
                    left_action_items:
                        []





<Signup>:
    # Signup Page is the screen which is displayed when user clicks on signup button in LoginScreen.
    # This screen takes user input to fill all the details of the user to store it to database.

    MDCard:
        # This blank Card is displayed in the background.

        size_hint: 0.87, 0.8
        pos_hint: {"center_x": 0.5, "center_y": 0.45}
        elevation: 5
        padding: 25
        spacing: 25
        orientation: 'vertical'
        radius: [20,20,20,20]
        md_bg_color:get_color_from_hex("#f4dedc")

    MDTextField:

        # This text field asks for Name of the new user.
        # The text entered in this field can be accessed by the name 'signup_name.text'.
        # Text will be validated for text-only input.

        id: signup_name
        hint_text: "Name"
        icon_right: "account-box"
        size_hint_x: 0.7
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter text"
        width: 180
        font_size: 25
        pos_hint: {"center_x": 0.50, "center_y": 0.75}


    MDTextField:
        # This text field asks for Age of the new user.
        # The text entered in this field can be accessed by the name 'signup_age.text'.
        # Text will be validated for number-only input between 10 to 100.

        id: signup_age
        hint_text: "Age"
        size_hint_x: 0.7
        width: 180
        font_size: 25
        pos_hint: {"center_x": 0.50, "center_y": 0.65}
        max_text_length: 2
        icon_right: "baby-carriage"
        input_type: 'number'
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter text"

    MDTextField:
        # This text field asks for Gender of the new user.
        # The text entered in this field can be accessed by the name 'signup_gender.text'.
        # Text will be validated for some keywords only.

        id: signup_gender
        hint_text: "Gender"
        size_hint_x: 0.7
        width: 180
        font_size: 25
        pos_hint: {"center_x": 0.50, "center_y": 0.55}
        required: True
        icon_right: "gender-male-female"
        helper_text_mode: "on_error"
        helper_text: "M/F"



    MDTextField:
        # This text field asks for Phone number of the new user.
        # The text entered in this field can be accessed by the name 'signup_phn.text'.
        # Text will be validated for number-only input of 10-digit length.

        id: signup_phn
        hint_text: "Phone number"
        size_hint_x: 0.7
        width: 180
        font_size: 25
        pos_hint: {"center_x": 0.50, "center_y": 0.45}
        icon_right: "cellphone-android"
        helper_text_mode: "on_error"
        helper_text: "Enter 10-digit phone number"

    MDTextField:

        # This text field asks for Email of the new user.
        # The text entered in this field can be accessed by the name 'signup_email.text'.
        # Text will be validated for format of email.

        id: signup_email
        hint_text: "Email"
        size_hint_x: 0.7
        width: 180
        font_size: 25
        icon_right: "email"
        pos_hint: {"center_x": 0.50, "center_y": 0.35}
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter text"

    MDTextField:

        # This text field asks for setting password.
        # The text entered in this field can be accessed by the name 'signup_password.text'.

        id: signup_password
        hint_text: "Set Password"
        size_hint_x: 0.7
        width: 180
        icon_right: "form-textbox-password"
        font_size: 25
        pos_hint: {"center_x": 0.50, "center_y": 0.25}
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter text"

    MDFillRoundFlatIconButton:
        # Button positioned bottom of the screen.

        text: "                   Submit"
        font_size: 25
        pos_hint: {"center_x": 0.5, "center_y": 0.12}
        size_hint_x: 0.7
        icon: 'check-box-outline'

        # On clicking on this button, signupSubmit() function from main will be executed.
        # Text entered in all text fields are passed as arguments.

        on_press: app.signupSubmit(root.ids.signup_name.text,root.ids.signup_age.text,root.ids.signup_gender.text,root.ids.signup_phn.text,root.ids.signup_email.text,root.ids.signup_password.text)


    # Collecion of widgets to create a content navigation drawer.
    Widget:
        size_hint_y: None
        height: 10
    MDNavigationLayout:

        ScreenManager:

            MDScreen:
                # On clicking top left button, a screen comes out that can be called as Drawer.
                MDToolbar:
                    title: "Signup "
                    elevation: 10
                    pos_hint: {"top": 1}

                    # There will be a button on top left.
                    # Clicking on it logs the user out and returns to login page.
                    left_action_items:
                        [['keyboard-backspace', lambda x: app.logout()]]



<PostLogin>:
    # Dashbard screen or post login screen is the screen which is displayed after successful login.
    # This screen displays three options for user to continue.
    MDCard:
        size_hint_x:0.85
        size_hint_y:0.19
        pos_hint: {"center_x": 0.5, "center_y": 0.76}
        elevation: 30
        padding: 25
        spacing: 25
        orientation: 'vertical'
        radius: [20,20,20,20]
        md_bg_color:get_color_from_hex("#f4dedc")

    MDLabel:
        # Label displayed at top of the screen.
        # Navigation for Plan New Trip button.
        text: "Planning for a Trip this week?"
        font_size: 18
        pos_hint: {"center_x": 0.5, "center_y": 0.82}
        halign: 'center'
        size_hint_y: None
        padding_y: 15

    MDRoundFlatButton:
        # Placed below new trip label.

        text: "Plan new trip"
        font_size: 20
        pos_hint: {"center_x": 0.5, "center_y": 0.72}

        # On clicking on this button, newtrip() function from main will be executed.

        on_press: app.newtrip()

    MDCard:
        size_hint_y:0.19
        size_hint_x:0.85
        pos_hint: {"center_x": 0.5, "center_y": 0.56}
        elevation: 30
        padding: 25
        spacing: 25
        orientation: 'vertical'
        radius: [20,20,20,20]
        md_bg_color:get_color_from_hex("#f4dedc")

    MDLabel:
        # Label displayed middle of the screen.
        # Navigation for View Team button.
        text: "Already Registered?"
        font_size: 18
        pos_hint: {"center_x": 0.5, "center_y": 0.62}
        halign: 'center'
        size_hint_y: None
        padding_y: 15

    MDRoundFlatButton:
        # Placed below Already registered? label.

        text: "Check your team status"
        font_size: 20
        pos_hint: {"center_x": 0.5, "center_y": 0.52}
        # On clicking on this button, viewteam() function from main will be executed.

        on_press: app.viewteam()


    MDCard:
        size_hint_y:0.39
        size_hint_x:0.85
        pos_hint: {"center_x": 0.5, "center_y": 0.26}
        elevation: 30
        padding: 25
        spacing: 25
        orientation: 'vertical'
        radius: [20,20,20,20]
        md_bg_color:get_color_from_hex("#f4dedc")

    MDLabel:
        # Label displayed bottom of the screen above a button.
        # Navigation for Track Expenses button.

        text: "Team Ready??"
        font_size: 18
        pos_hint: {"center_x": 0.5, "center_y": 0.42}
        halign: 'center'
        size_hint_y: None
        padding_y: 15

    MDRoundFlatButton:
        # Placed below bottom of the screen.

        text: "Track expenses"
        font_size: 20
        pos_hint: {"center_x": 0.5, "center_y": 0.32}
        # On clicking on this button, track() function from main will be executed.

        on_press: app.track()

    MDRoundFlatButton:
        # Placed below bottom of the screen.

        text: "Know weather condition at your Destination"
        font_size: 20
        pos_hint: {"center_x": 0.5, "center_y": 0.22}
        # On clicking on this button, track() function from main will be executed.

        on_press: app.weather(app.destination)

    MDRoundFlatButton:
        # Placed below bottom of the screen.

        text: "Navigate to destination"
        font_size: 20
        pos_hint: {"center_x": 0.5, "center_y": 0.12}
        # On clicking on this button, track() function from main will be executed.

        on_press: app.navigate()

    # Collecion of widgets to create a content navigation drawer.

    Widget:
        size_hint_y: None
        height: 10
    MDNavigationLayout:

        ScreenManager:

            MDScreen:
                # On clicking top left button, a screen comes out that can be called as Drawer.
                MDToolbar:
                    title: "Hi "+ app.uname
                    elevation: 10
                    pos_hint: {"top": 1}
                    # There will be a button on top left.
                    # Clicking on this button opens the navigation drawer containing a button.
                    left_action_items:
                        [['menu', lambda x: nav_drawer.set_state("open")]]


        MDNavigationDrawer:
            id: nav_drawer

            # Content Navigation drawer appears when top left button is clicked.
            ContentNavigationDrawer:
                orientation: "vertical"
                padding: "8dp"
                spacing: "8dp"

                AnchorLayout:
                    anchor_x: "left"
                    size_hint_y: None
                    height:

                ScrollView:

                    DrawerList:
                        id: md_list

                        MDRaisedButton:
                            # Theere will be a LOGOUT button in navigation drawer.
                            # Clicking on it logs the user out and returns to login page.
                            text: "LOG OUT"
                            font_size: 40
                            pos_hint: {"center_x": 0.3, "center_y": 0.3}
                            on_press: app.logout()
<Trans>:
    # This is a Box Layout.
    orientation: 'horizontal'


<OpenMaps>:
    text: 'OPEN MAPS'

    on_release: app.gotomap()

<OpenWhatsapp>:
    text: 'OPEN WHATSAPP'
    on_release: app.gotowhatsapp()

<DismissButton>:
    text: 'DISMISS'
    on_release: app.dialog.dismiss(force=True)
<DismissButtonB>:
    text: 'DISMISS'
    on_release: app.dialog.dismiss(force=True)

<TCard>:
    # This is a user defined card widget. Used to create multiple cards of same layout.
    # Each TCard added represents a transaction.
    id: tcard
    orientation: "vertical"
    size_hint: 0.7, None
    height: box_top.height + box_bottom.height
    focus_behavior: True
    ripple_behavior: True
    pos_hint: {"center_x": .5, "center_y": .5}
    radius: [15,15,15,15]
    md_bg_color: get_color_from_hex("#f4dedc")
    # Useually, a MDCard allows user to embed widgets into it.
    # So, we are embedding a MDBoxLayout into MDCard.
    # We will add all the labels into MD BoxLayout.
    MDBoxLayout:
        id: box_top
        spacing: "20dp"
        adaptive_height: True



        # A nested MDBoxLayout
        MDBoxLayout:
            id: text_box
            orientation: "vertical"
            adaptive_height: True
            spacing: "10dp"
            padding: 0, "10dp", "10dp", "10dp"

            MDLabel:
                # This Label displays the amount spent of the transaction.
                text: "                "+app.money
                theme_text_color: "Primary"
                font_style: "H5"
                bold: True
                adaptive_height: True

            MDLabel:
                # This Label displays the person name who paid for the transaction and payment time.

                text: "        "+app.paidby+"             "+app.paymenttime
                adaptive_height: True
                theme_text_color: "Primary"

    MDSeparator:

    MDBoxLayout:
        id: box_bottom
        adaptive_height: True
        padding: "10dp", 0, 0, 0

        MDLabel:
            # This Label displays the purpose of the transaction.

            text: "    "+app.purpose
            adaptive_height: True
            pos_hint: {"center_y": .5}
            theme_text_color: "Primary"


<NewTrip>:

    # NewTrip screen is the screen which is displayed when user selects plan new trip button in Dashboard screen.
    # This screen displays three destinations for user to continue(can be upgraded in future versions).


    ScrollView:
        # Three destination details along with images are embedded in a scrollView.
        # Three destination details are aligned side by side.
        # User can scroll horizontally to view the destination details and select them.
        do_scroll_x: True
        do_scroll_y: False
        size_hint: 0.95,0.87
        pos_hint: {"center_x": 0.5, "center_y": 0.45}
        GridLayout:
            # Three destination details are aligned side by side.
            cols: 4
            size_hint_x: 3
            MDCard:
                # This MDCard gives details of Goa Trip Destination and has a button to select.
                size_hint: 0.97, 0.6
                pos_hint: {"center_x": 0.5, "center_y": 0.45}
                elevation: 30
                padding: 25
                spacing: 25
                orientation: 'vertical'
                Image:
                    # This image displays Goa and Has image in background.
                    source:'goa.png'
                    size_hint_y: .55
                    pos_hint:{"center_x": 0.5, "center_y": 0.5}

                MDLabel:
                    # This label diaplays title Goa.
                    # This label is placed below Goa Image.
                    text: "Goa"
                    font_size: 40
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    halign: 'center'
                    size_hint_y: .1
                    padding_y: 15
                MDLabel:
                    # This label displays detail about distance.
                    # This label is placed below Goa Heading.

                    text: "India, 691 km from Hyderabad"
                    font_size: 20
                    halign: left
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    halign: 'center'
                    size_hint_y: .05
                    padding_y: 15

                MDLabel:
                    # This label displays 'estimated cost'.
                    # This label is placed below distance detail.

                    text: "Estimated cost:"
                    font_size: 15
                    halign: left
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    halign: 'center'
                    size_hint_y: .05
                    padding_y: 15

                MDLabel:
                    # This label displays the estimated cost of Trip.
                    # This label is placed at bottom above Go button.

                    text: "Rs.25000/person"
                    font_size: 28
                    halign: left
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    halign: 'center'
                    size_hint_y: .05
                    padding_y: 15

                MDRaisedButton:
                    # This button is situated at the bottom of the screen in the Goa details section.
                    text: "Go"
                    font_size: 20
                    size_hint_y: .15
                    size_hint_x: .8
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    # On clicking on this button, go() function from main will be executed.
                    # As this button is situated in Goa Destination details, 'Goa' is passed as argument.

                    on_press: app.go("Goa")
            MDCard:
                # This MDCard gives details of Manali Trip Destination and has a button to select.

                size_hint: 0.97, 0.6
                pos_hint: {"center_x": 0.5, "center_y": 0.45}
                elevation: 30
                padding: 25
                spacing: 25
                orientation: 'vertical'
                Image:
                    # This image displays Manali and has image in background.

                    source:'manali.png'
                    size_hint_y: .55

                    pos_hint:{"center_x": 0.5, "center_y": 0.5}



                MDLabel:
                    # This label diaplays title Mnali.
                    # This label is placed below Manali Image.
                    text: "Manali"
                    font_size: 40
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    halign: 'center'
                    size_hint_y: .1
                    padding_y: 15
                MDLabel:
                    # This label displays detail about distance.
                    # This label is placed below Manali Heading.

                    text: "India, 2126 km from Hyderabad"
                    font_size: 20
                    halign: left
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    halign: 'center'
                    size_hint_y: .05
                    padding_y: 15

                MDLabel:
                    # This label displays 'estimated cost'.
                    # This label is placed below distance detail.

                    text: "Estimated cost:"
                    font_size: 15
                    halign: left
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    halign: 'center'
                    size_hint_y: .05
                    padding_y: 15

                MDLabel:
                    # This label displays the estimated cost of Trip.
                    # This label is placed at bottom above Go button.

                    text: "Rs.35000/person"
                    font_size: 28
                    halign: left
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    halign: 'center'
                    size_hint_y: .05
                    padding_y: 15

                MDRaisedButton:
                    # Button situated at bottom of the page in the Manali details section.
                    text: "Go"
                    font_size: 20
                    size_hint_y: .15
                    size_hint_x: .8
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    # On clicking on this button, go() function from main will be executed.
                    # As this button is situated in Manali Destination details, 'Manali' is passed as argument.

                    on_press: app.go("Manali")

            MDCard:
                # This MDCard gives details of Agra Trip Destination and has a button to select.

                size_hint: 0.97, 0.6
                pos_hint: {"center_x": 0.5, "center_y": 0.45}
                elevation: 30
                padding: 25
                spacing: 25
                orientation: 'vertical'
                Image:
                    # This image displays Agra and has image in background.

                    source:'agra.png'
                    size_hint_y: .55

                    pos_hint:{"center_x": 0.5, "center_y": 0.5}



                MDLabel:
                    # This label diaplays title Agra.
                    # This label is placed below Agra Image.

                    text: "Agra"
                    font_size: 40
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    halign: 'center'
                    size_hint_y: .1
                    padding_y: 15
                MDLabel:
                    # This label displays detail about distance.
                    # This label is placed below Agra Heading.

                    text: "India, 1341 km from Hyderabad"
                    font_size: 20
                    halign: left
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    halign: 'center'
                    size_hint_y: .05
                    padding_y: 15

                MDLabel:
                    # This label displays 'estimated cost'.
                    # This label is placed below distance detail.

                    text: "Estimated cost:"
                    font_size: 15
                    halign: left
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    halign: 'center'
                    size_hint_y: .05
                    padding_y: 15

                MDLabel:
                    # This label displays the estimated cost of Trip.
                    # This label is placed at bottom above Go button.

                    text: "Rs.15000/person"
                    font_size: 28
                    halign: left
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    halign: 'center'
                    size_hint_y: .05
                    padding_y: 15

                MDRaisedButton:
                    # Button situated bottom of screen in Agra details section.
                    text: "Go"
                    font_size: 20
                    size_hint_y: .15
                    size_hint_x: .8
                    pos_hint: {"center_x": 0.5, "center_y": 0.5}
                    # On clicking on this button, go() function from main will be executed.
                    # As this button is situated in Agra Destination details, 'Agra' is passed as argument.

                    on_press: app.go("Agra")

    # Collecion of widgets to create a content navigation drawer.
    MDNavigationLayout:

        ScreenManager:

            MDScreen:
                # On clicking top left button, a screen comes out that can be called as Drawer.

                MDToolbar:
                    title: "Plan new trip"
                    elevation: 10
                    pos_hint: {"top": 1}
                    # There will be a button on top left.
                    # Clicking on this button opens the navigation drawer containing a button.

                    left_action_items:
                        [['menu', lambda x: nav_drawer.set_state("open")]]


        MDNavigationDrawer:
            id: nav_drawer
            # Content Navigation drawer appears when top left button is clicked.

            ContentNavigationDrawer:
                orientation: "vertical"
                padding: "8dp"
                spacing: "8dp"

                AnchorLayout:
                    anchor_x: "left"
                    size_hint_y: None
                    height:

                MDLabel:
                    text: "FelizTour"
                    font_style: "Button"
                    size_hint_y: None




                ScrollView:

                    DrawerList:
                        id: md_list

                        MDFlatButton:
                            # Theere will be a goback button in navigation drawer.

                            text: "Go to home page"
                            font_size: 25
                            pos_hint: {"center_x": 0.3, "center_y": 0.3}
                            # Clicking on this button returns to user to dashboard.

                            on_press: app.goback()


<Weather>:

    MDLabel:
        text: "The weather details at "+app.destination+" is: "
        font_size: 30
        pos_hint: {"center_x": 0.5, "center_y": 0.80}
        halign: 'center'
        size_hint_y: None
        padding_y: 15
    MDLabel:
        text: 'Current Temperature:'+str(app.current_temperature)
        font_size: 25
        pos_hint: {"center_x": 0.5, "center_y": 0.70}
        halign: 'center'
        size_hint_y: None
        padding_y: 15
    MDLabel:
        text: 'Humidity:'+str(app.humidity)
        font_size: 18
        pos_hint: {"center_x": 0.5, "center_y": 0.60}
        halign: 'center'
        size_hint_y: None
        padding_y: 15
    MDLabel:
        text: 'Minimum Temperature:'+str(app.tempmin)
        font_size: 18
        pos_hint: {"center_x": 0.5, "center_y": 0.55}
        halign: 'center'
        size_hint_y: None
        padding_y: 15
    MDLabel:
        text: 'Maximum Temperature:'+str(app.tempmax)
        font_size: 18
        pos_hint: {"center_x": 0.5, "center_y": 0.50}
        halign: 'center'
        size_hint_y: None
        padding_y: 15

    MDLabel:
        text: "The location details of "+app.destination+" is :"
        font_size: 30
        pos_hint: {"center_x": 0.5, "center_y": 0.40}
        halign: 'center'
        size_hint_y: None
        padding_y: 15

    MDLabel:
        text: 'Latitude:'+str(app.latitude)
        font_size: 18
        pos_hint: {"center_x": 0.5, "center_y": 0.30}
        halign: 'center'
        size_hint_y: None
        padding_y: 15
    MDLabel:
        text: 'Longitude:'+str(app.longitude)
        font_size: 18
        pos_hint: {"center_x": 0.5, "center_y": 0.25}
        halign: 'center'
        size_hint_y: None
        padding_y: 15

    MDRoundFlatButton:
        text: "Go to Home Page"
        font_size: 20
        pos_hint: {"center_x": 0.5, "center_y": 0.15}
        on_press: app.goback()


    # Collecion of widgets to create a content navigation drawer.
    Widget:
        size_hint_y: None
        height: 10
    MDNavigationLayout:

        ScreenManager:

            MDScreen:

                MDToolbar:
                    title: "Weather Status"
                    elevation: 10
                    pos_hint: {"top": 1}

                    # Theere will be a goback button on top left.
                    # On clicking this button, user is returned to dashboard.
                    left_action_items:
                        [['keyboard-backspace', lambda x: app.goback()]]


        MDNavigationDrawer:
            id: nav_drawer

            # Content Navigation drawer appears when top left button is clicked.

            ContentNavigationDrawer:
                orientation: "vertical"
                padding: "8dp"
                spacing: "8dp"

                AnchorLayout:
                    anchor_x: "left"
                    size_hint_y: None
                    height:

                MDLabel:
                    text: "KivyMD library"
                    font_style: "Button"
                    size_hint_y: None


                MDLabel:
                    text: "kivydevelopment@gmail.com"
                    font_style: "Caption"
                    size_hint_y: None


                ScrollView:

                    DrawerList:
                        id: md_list

                        MDFlatButton:
                            text: "LOG IN"
                            font_size: 12
                            pos_hint: {"center_x": 0.3, "center_y": 0.3}
                            on_press: app.login()







<TeamStatus>:
    # TeamStatus screen is the screen which is displayed when user selects view team status button in Dashboard screen.
    # This screen displays the team name assigned and co-teammates and their phonenumbers.






    MDCard:
        # This card is displayed in the Background.
        size_hint: 0.85, 0.82
        pos_hint: {"center_x": 0.5, "center_y": 0.45}
        elevation: 10
        padding: 25
        spacing: 25
        orientation: 'vertical'
        radius: [20,20,20,20]
        md_bg_color:get_color_from_hex("#f4dedc")

    MDFillRoundFlatIconButton:

        # This label displays name of team assigned to user.
        text: "   Your Team: "+app.teamname
        icon: "airplane"
        icon_size: "100sp"
        font_size: 30
        size_hint_x: 0.6
        pos_hint: {"center_x": 0.5, "center_y": 0.77}
        halign: 'center'

    MDList:
        pos_hint: {"center_x": 0.50, "center_y": 0.5}
        size_hint_x: 0.7
        OneLineAvatarIconListItem:
            id: teammember1
            text: app.team[0][0]
            on_size:
                self.ids._right_container.width = container.width
                self.ids._right_container.x = container.width

            IconLeftWidget:
                icon: "alpha-"+app.team[0][0][0].lower()+"-circle"
                icon_size: "110sp"

            YourContainer:
                id: container

                MDRaisedButton:
                    text: "Details"
                    on_release: app.viewmemberdetails(app.team[0][0])

                MDIconButton:
                    icon: "whatsapp"
                    icon_size: "110sp"
                    on_release: app.chatwhatsapp(app.team[0][1])

        OneLineAvatarIconListItem:
            id: teammember2
            text: app.team[1][0]
            on_size:
                self.ids._right_container.width = container.width
                self.ids._right_container.x = container.width

            IconLeftWidget:
                icon: "alpha-"+app.team[1][0][0].lower()+"-circle"
                icon_size: "64sp"

            YourContainer:


                MDRaisedButton:
                    text: "Details"
                    on_release: app.viewmemberdetails(app.team[1][0])

                MDIconButton:
                    icon: "whatsapp"
                    icon_size: "64sp"
                    on_release: app.chatwhatsapp(app.team[1][1])

        OneLineAvatarIconListItem:
            id: teammember3
            text: app.team[2][0]
            on_size:
                self.ids._right_container.width = container.width
                self.ids._right_container.x = container.width

            IconLeftWidget:
                icon: "alpha-"+app.team[2][0][0].lower()+"-circle"
                icon_size: "64sp"

            YourContainer:


                MDRaisedButton:
                    text: "Details"
                    on_release: app.viewmemberdetails(app.team[2][0])

                MDIconButton:
                    icon: "whatsapp"
                    icon_size: "64sp"
                    on_release: app.chatwhatsapp(app.team[2][1])
        OneLineAvatarIconListItem:
            id: teammember4
            text: app.team[3][0]
            on_size:
                self.ids._right_container.width = container.width
                self.ids._right_container.x = container.width

            IconLeftWidget:
                icon: "alpha-"+app.team[3][0][0].lower()+"-circle"
                icon_size: "64sp"

            YourContainer:


                MDRaisedButton:
                    text: "Details"
                    on_release: app.viewmemberdetails(app.team[3][0])

                MDIconButton:
                    icon: "whatsapp"
                    icon_size: "64sp"
                    on_release: app.chatwhatsapp(app.team[3][1])

    MDLabel:
        # This label prints if the team is ready to go or not.
        # This prints 'Hurray! Team is ready!' if team has 4 members.
        # This prints 'Oops need to wait for others to join' if team has less than 4 members.
        text: app.ready

        font_size: 20
        #font_style: "bold"
        size_hint_x: 0.6
        pos_hint: {"center_x": 0.5, "center_y": 0.23}
        halign: 'center'

    MDIcon:
        icon: app.readyicon
        icon_size: "100sp"
        size_hint_x: 0.1
        size_hint_y:0.1
        pos_hint: {"center_x": 0.5, "center_y": 0.12}


    # Collecion of widgets to create a content navigation drawer.
    Widget:
        size_hint_y: None
        height: 10
    MDNavigationLayout:

        ScreenManager:

            MDScreen:

                MDToolbar:
                    title: "Team Status"
                    elevation: 10
                    pos_hint: {"top": 1}

                    # Theere will be a goback button on top left.
                    # On clicking this button, user is returned to dashboard.
                    left_action_items:
                        [['keyboard-backspace', lambda x: app.goback()]]


        MDNavigationDrawer:
            id: nav_drawer

            # Content Navigation drawer appears when top left button is clicked.

            ContentNavigationDrawer:
                orientation: "vertical"
                padding: "8dp"
                spacing: "8dp"

                AnchorLayout:
                    anchor_x: "left"
                    size_hint_y: None
                    height:

                MDLabel:
                    text: "KivyMD library"
                    font_style: "Button"
                    size_hint_y: None


                MDLabel:
                    text: "kivydevelopment@gmail.com"
                    font_style: "Caption"
                    size_hint_y: None


                ScrollView:

                    DrawerList:
                        id: md_list

                        MDFlatButton:
                            text: "LOG IN"
                            font_size: 12
                            pos_hint: {"center_x": 0.3, "center_y": 0.3}
                            on_press: app.login()




<Overview>:
    # Overview screen is the screen which is displayed when user selects track expenses button in Dashboard screen.
    # This screen displays the spending analysis of team.
    MDTabs:
        size_hint_y: 0.90

        id: tabs
        on_tab_switch: app.on_tab_switch(*args)
        Tab1:
            id: overviewtab
            icon: "chart-bar"
            title: "Persons"

        Tab1:
            id: catwisetab
            icon: "chart-pie"
            title: "Categories"

        Tab1:
            id: transactionstab
            icon: "view-list"
            title: "Transactions"
            ScrollView:
                # The screen excluding Navigation Heading and Buttons is placed in Scroll view.
                # This scroll view contains all the tcards, each representing one transaction.
                id: scrolltrans
                do_scroll_x: False
                do_scroll_y: True

                MDList:
                    # MDList is added with all the TCards in transactions method in main.
                    id: transbox
                    spacing: 20

    MDFloatingActionButton:
        # This is a Floating Button.
        # This is situated at bottom left of the screen.
        # Clicking on this button navigates to Add Transaction screen.

        icon: "plus-box-multiple"
        rotation_root_button: True
        pos_hint: {"center_x": 0.9, "center_y": 0.07}
        on_release: app.plus()


    # Collecion of widgets to create a content navigation drawer.
    Widget:
        size_hint_y: None
        height: 10
    MDNavigationLayout:

        ScreenManager:
            # On clicking top left button, a screen comes out that can be called as Drawer.

            MDScreen:

                MDToolbar:
                    title: "Track Expenses"
                    elevation: 10
                    pos_hint: {"top": 1}
                    # Theere will be a goback button on top left.
                    # On clicking this button, user is returned to dashboard.
                    left_action_items:
                        [['keyboard-backspace', lambda x: app.goback()]]


        MDNavigationDrawer:
            id: nav_drawer


            ContentNavigationDrawer:
                # Content Navigation drawer appears when top left button is clicked.

                orientation: "vertical"
                padding: "8dp"
                spacing: "8dp"

                AnchorLayout:
                    anchor_x: "left"
                    size_hint_y: None
                    height:

                MDLabel:
                    text: "KivyMD library"
                    font_style: "Button"
                    size_hint_y: None

                MDLabel:
                    text: "kivydevelopment@gmail.com"
                    font_style: "Caption"
                    size_hint_y: None

                ScrollView:
                    # Contents of navigation drawer are placed in a scroll view.
                    DrawerList:
                        id: md_list

                        MDFlatButton:
                            text: "LOG IN"
                            font_size: 12
                            pos_hint: {"center_x": 0.3, "center_y": 0.3}

                            on_press: app.login()

<Transactions>:
    # Overview screen is the screen which is displayed when user clicks on Transactions button in Overview screen.
    # This screen displays all the transactions done by team.
    MDRaisedButton:
        # This Button is placed on top left of the screen.
        # This is like a tab in Transactions Section.
        text: "Transactions"
        font_size: 18
        md_bg_color: 1, 0, 1, 1
        text_color: 0, 0, 1, 1
        pos_hint: {"center_x": 0.75, "center_y": 0.85}
        size_hint: 0.5,0.075
        # This button refreshes transactions screen when clicked in transactions screen.

        on_press: app.transactions()
        border: 'yellow'

    MDFlatButton:
        # This Button is placed on top right of the screen.
        # This is like a tab in Transactions Section.
        text: "Overview"
        font_size: 18
        pos_hint: {"center_x": 0.25, "center_y": 0.85}
        # On clicking this button, track() method from main will be executed.
        on_press: app.track()
        size_hint: 0.5,0.075

    ScrollView:
        # The screen excluding Navigation Heading and Buttons is placed in Scroll view.
        # This scroll view contains all the tcards, each representing one transaction.
        id: scroll
        do_scroll_x: False
        do_scroll_y: True
        size_hint: 1,0.80
        pos_hint: {"center_x": 0.5275, "y": 0}

        MDList:
            # MDList is added with all the TCards in transactions method in main.
            id: box
            spacing: 20


    MDFloatingActionButtonSpeedDial:
        # This is a Floating Button.
        # This is situated at bottom left of the screen.
        # Clicking on this button navigates to Add Transaction screen.

        data: app.data
        rotation_root_button: True
        callback: app.plus

    # Collecion of widgets to create a content navigation drawer.

    Widget:
        size_hint_y: None
        height: 10
    MDNavigationLayout:

        ScreenManager:
            # On clicking top left button, a screen comes out that can be called as Drawer.            MDScreen:
            MDScreen:

                MDToolbar:
                    title: "Track Expenses"
                    elevation: 10
                    pos_hint: {"top": 1}

                    # There will be a goback button on top left.
                    # On clicking this button, user is returned to dashboard.
                    left_action_items:
                        [['keyboard-backspace', lambda x: app.goback()]]





<AddTransaction>
    # AddTransaction screen is the screen which is displayed when user clicks on Floating add transaction button in Overview screen or Transactions screen.
    # This screen allows user to enter details of transaction made and save it.
    MDCard:
        # This card is displayed in the Background.
        size_hint: 0.95, 0.82
        pos_hint: {"center_x": 0.5, "center_y": 0.45}
        elevation: 10
        padding: 25
        spacing: 25
        orientation: 'vertical'
        radius: [20,20,20,20]
        md_bg_color:get_color_from_hex("#f4dedc")

    MDTextField:
        # This TextField takes user input for amount spent in the transaction.
        # This text entered in this TextField can be accessed as 'amount.text'
        id: amount
        mode: "rectangle"
        hint_text: "Amount"
        size_hint_x: 0.7
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter Amount"
        width: 180
        font_size: 25
        pos_hint: {"center_x": 0.50, "center_y": 0.78}


    MDTextField:
        # This TextField takes user input for purpose of the transaction.
        # This text entered in this TextField can be accessed as 'purpose.text'
        id: purpose
        hint_text: "Purpose"
        size_hint_x: 0.7
        mode: "rectangle"
        width: 180
        font_size: 25
        pos_hint: {"center_x": 0.50, "center_y": 0.67}
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter purpose"


    MDList:
        pos_hint: {"center_x": 0.50, "center_y": 0.385}
        size_hint_x: 0.7
        OneLineAvatarIconListItem:
            id: Food
            text: "Food"
            IconLeftWidget:
                icon: "food"
            RightCheckBox:
                on_active: app.select("Food")

        OneLineAvatarIconListItem:
            id: Utilities
            text: "Utilities"
            IconLeftWidget:
                icon: "bag-personal"
            RightCheckBox:
                on_active: app.select("Utilities")

        OneLineAvatarIconListItem:
            id: Travelling
            text: "Travelling"
            IconLeftWidget:
                icon: "airplane"
            RightCheckBox:
                on_active: app.select("Travelling")

        OneLineAvatarIconListItem:
            id: Parties
            text: "Parties"
            IconLeftWidget:
                icon: "party-popper"
            RightCheckBox:
                on_active: app.select("Parties")

        OneLineAvatarIconListItem:
            id: Others
            text: "Others"
            IconLeftWidget:
                icon: "map-marker-question"
            RightCheckBox:
                on_active: app.select("Others")


    MDRaisedButton:

        # This button is situated at the bottom of the screen.
        text: "Add"
        font_size: 25
        pos_hint: {"center_x": 0.5, "center_y": 0.10}
        size_hint_x: 0.7
        # On clicking on this button, addSubmit() method from main is executed.
        # Texts entered in amund and purpose textfields are passed as arguments.
        on_press: app.addSubmit(amount.text,purpose.text)

    # Collecion of widgets to create a content navigation drawer.

    Widget:
        size_hint_y: None
        height: 10
    MDNavigationLayout:

        ScreenManager:
            # On clicking top left button, a screen comes out that can be called as Drawer.

            MDScreen:

                MDToolbar:
                    title: "Add Transaction"
                    elevation: 10
                    pos_hint: {"top": 1}
                    # There will be a goback button on top left.
                    # On clicking this button, user is returned to dashboard.
                    left_action_items:
                        [['keyboard-backspace', lambda x: app.goback()]]


        MDNavigationDrawer:
            id: nav_drawer


            ContentNavigationDrawer:

                # Content Navigation drawer appears when top left button is clicked.
                orientation: "vertical"
                padding: "8dp"
                spacing: "8dp"

                AnchorLayout:
                    anchor_x: "left"
                    size_hint_y: None
                    height:

                MDLabel:
                    text: "KivyMD library"
                    font_style: "Button"
                    size_hint_y: None


                MDLabel:
                    text: "kivydevelopment@gmail.com"
                    font_style: "Caption"
                    size_hint_y: None

                ScrollView:
                    # Contents of navigation drawer are placed in a scroll view.
                    DrawerList:
                        id: md_list

                        MDFlatButton:
                            text: "LOG IN"
                            font_size: 12
                            pos_hint: {"center_x": 0.3, "center_y": 0.3}
                            # On clicking this button, user is returned to login page.
                            on_press: app.login()



<Destinations>:
    ScrollView:
        id: destsview
        size_hint: 0.85,0.9
        pos_hint: {"center_x": 0.5}


        MDList:
            id: container
            size_hint_x: 0.78

            OneLineAvatarIconListItem:
                text: "Agra"
                text_size: 35


                IconLeftWidget:
                    id: agra
                    icon: "C:\\Users\\chand\\Documents\\GitHub\\FelizTour\\agra icon.png"
                    pos_hint: { "center_y": 0.5}
                    icon_size: "110sp"

                YourContainer:
                    id: container

                    MDRaisedButton:
                        text: "KNOW MORE"
                        pos_hint: { "center_y": 0.5}
                        color: "blue"
                        on_release: app.viewdestination("Agra",agra.icon)

            OneLineAvatarIconListItem:

                text: "Goa"
                text_size: 25


                IconLeftWidget:
                    id: goa
                    icon: "C:\\Users\\chand\\Documents\\GitHub\\FelizTour\\Goa icon.png"
                    pos_hint: { "center_y": 0.5}
                    icon_size: "110sp"

                YourContainer:
                    id: container

                    MDRaisedButton:
                        text: "KNOW MORE"
                        pos_hint: { "center_y": 0.5}
                        color: "blue"
                        on_release: app.viewdestination("Goa",goa.icon)

            OneLineAvatarIconListItem:

                text: "Manali"
                text_size: 25


                IconLeftWidget:
                    id: manali
                    icon: "C:\\Users\\chand\\Documents\\GitHub\\FelizTour\\manali icon.png"
                    pos_hint: { "center_y": 0.5}
                    icon_size: "110sp"

                YourContainer:
                    id: container

                    MDRaisedButton:
                        text: "KNOWMORE"
                        pos_hint: { "center_y": 0.5}
                        color: "blue"
                        on_release: app.viewdestination("Manali",manali.icon)


    Widget:
        size_hint_y: None
        height: 10
    MDNavigationLayout:

        ScreenManager:
            # On clicking top left button, a screen comes out that can be called as Drawer.

            MDScreen:

                MDToolbar:
                    title: "Browse Destinations"
                    elevation: 10
                    pos_hint: {"top": 1}
                    # There will be a goback button on top left.
                    # On clicking this button, user is returned to dashboard.
                    left_action_items:
                        [['keyboard-backspace', lambda x: app.goback()]]


        MDNavigationDrawer:
            id: nav_drawer


            ContentNavigationDrawer:

                # Content Navigation drawer appears when top left button is clicked.
                orientation: "vertical"
                padding: "8dp"
                spacing: "8dp"

                AnchorLayout:
                    anchor_x: "left"
                    size_hint_y: None
                    height:

                MDLabel:
                    text: "KivyMD library"
                    font_style: "Button"
                    size_hint_y: None


                MDLabel:
                    text: "kivydevelopment@gmail.com"
                    font_style: "Caption"
                    size_hint_y: None

                ScrollView:
                    # Contents of navigation drawer are placed in a scroll view.
                    DrawerList:
                        id: md_list

                        MDFlatButton:
                            text: "LOG IN"
                            font_size: 12
                            pos_hint: {"center_x": 0.3, "center_y": 0.3}
                            # On clicking this button, user is returned to login page.
                            on_press: app.login()

<MySwiperItem>:

    FitImage:
        source: app.image
        radius: [20,]


<PlaceDetails>:


    MDCard:
        # This card is displayed in the Background.
        size_hint: 0.85, 0.82
        pos_hint: {"center_x": 0.5, "center_y": 0.45}
        elevation: 10
        padding: 25
        spacing: 25
        orientation: 'vertical'
        radius: [20,20,20,20]
        md_bg_color:get_color_from_hex("#f4dedc")

    MDSwiper:
        id: swiperimages
        size_hint_y: 0.4
        pos_hint: {"center_x": 0.5, "center_y": 0.4}



    MDLabel:

        # This label displays name of team assigned to user.
        text: app.desplace
        font_size: 30
        size_hint_x: 0.6
        pos_hint: {"center_x": 0.5, "center_y": 0.79}
        halign: 'center'

    MDFloatingActionButton:
        id: location
        pos_hint: {"center_x": 0.2, "center_y": 0.69}
        icon: 'google-maps'
        icon_color: 'white'
        md_bg_color: app.theme_cls.primary_color
        on_release: app.taptarget('location')

    MDFloatingActionButton:
        id: distance
        pos_hint: {"center_x": 0.4, "center_y": 0.69}
        icon: 'map-marker-distance'
        icon_color: 'white'
        md_bg_color: app.theme_cls.primary_color
        on_release: app.taptarget('distance')

    MDFloatingActionButton:
        id: weather
        pos_hint: {"center_x": 0.8, "center_y": 0.69}
        icon: 'weather-partly-lightning'
        icon_color: 'white'
        md_bg_color: app.theme_cls.primary_color
        on_release: app.taptarget('weather')

    MDFloatingActionButton:
        id: time
        pos_hint: {"center_x": 0.6, "center_y": 0.69}
        icon: 'clock-time-five'
        icon_color: 'white'
        md_bg_color: app.theme_cls.primary_color
        on_release: app.taptarget('time')






    MDFillRoundFlatIconButton:
        # Button positioned bottom of the screen.

        text: "             Select Destination"
        font_size: 25
        pos_hint: {"center_x": 0.5, "center_y": 0.12}
        size_hint_x: 0.7
        icon: 'check-box-outline'

        # On clicking on this button, signupSubmit() function from main will be executed.
        # Text entered in all text fields are passed as arguments.

        on_press: app.go(app.desplace)












    Widget:
        size_hint_y: None
        height: 10
    MDNavigationLayout:

        ScreenManager:
            # On clicking top left button, a screen comes out that can be called as Drawer.

            MDScreen:

                MDToolbar:
                    title: "Browse Destinations"
                    elevation: 10
                    pos_hint: {"top": 1}
                    # There will be a goback button on top left.
                    # On clicking this button, user is returned to dashboard.
                    left_action_items:
                        [['keyboard-backspace', lambda x: app.goback()]]


        MDNavigationDrawer:
            id: nav_drawer


            ContentNavigationDrawer:

                # Content Navigation drawer appears when top left button is clicked.
                orientation: "vertical"
                padding: "8dp"
                spacing: "8dp"

                AnchorLayout:
                    anchor_x: "left"
                    size_hint_y: None
                    height:

                MDLabel:
                    text: "KivyMD library"
                    font_style: "Button"
                    size_hint_y: None


                MDLabel:
                    text: "kivydevelopment@gmail.com"
                    font_style: "Caption"
                    size_hint_y: None

                ScrollView:
                    # Contents of navigation drawer are placed in a scroll view.
                    DrawerList:
                        id: md_list

                        MDFlatButton:
                            text: "LOG IN"
                            font_size: 12
                            pos_hint: {"center_x": 0.3, "center_y": 0.3}
                            # On clicking this button, user is returned to login page.
                            on_press: app.login()